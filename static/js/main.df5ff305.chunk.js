(window["webpackJsonpalgorhythm-client"]=window["webpackJsonpalgorhythm-client"]||[]).push([[0],{21:function(e,t,n){e.exports=n.p+"static/media/Spotify_Icon_RGB_White.cc4e2784.png"},25:function(e,t,n){e.exports=n(48)},30:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(20),r=n.n(i),s=(n(30),n(1)),o=n(2),c=n(4),u=n(3),d=n(5),m=n(12),h=n(11),p=(n(31),n(9),n(21)),g=n.n(p),y=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"bg"},l.a.createElement("div",null,l.a.createElement("h1",null,"Algorhythm Nation"),l.a.createElement("p",null,"Where you can generate playlists to suit your needs using our (algo)rhythms.")),l.a.createElement("div",{id:"loginBtn"},l.a.createElement("button",{onClick:function(){return window.open("https://algorhythm-nation.herokuapp.com/login","_parent")}}," ",l.a.createElement("img",{id:"spotifyicon",src:g.a}),"LOGIN VIA SPOTIFY")))}}]),t}(l.a.Component),f=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleAddClick=function(){console.log("clicked"),e.setState({isAddClicked:!e.state.isAddClicked})},e.convertMins=function(t){var n=Math.floor(t/6e4),a=Math.floor(t%6e4),l=Math.floor(a/1e3);return l=e.leftPad(l),"".concat(n,":").concat(l)},e.state={isAddClicked:!1},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"leftPad",value:function(e){for(var t=e+"";t.length<2;)t="0"+t;return t}},{key:"render",value:function(){return l.a.createElement("div",{className:"tbl-content"},l.a.createElement("table",{cellpadding:"0",cellspacing:"0",border:"0"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,this.props.song&&l.a.createElement("img",{src:this.props.song.img})),l.a.createElement("td",null,this.props.song&&this.props.song.name),l.a.createElement("td",null,this.props.song&&this.props.song.artist),l.a.createElement("td",null,this.props.song&&this.convertMins(this.props.song.duration_ms))))))}}]),t}(l.a.Component),b=n(24),v=function(e){function t(e){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"navbar"},l.a.createElement("button",{id:"logoutBtn",onClick:this.props.handleLogout},"Logout"),l.a.createElement("h2",null,this.props.username),l.a.createElement("span",{className:"AN"},"Algorhythm Nation"))}}]),t}(l.a.Component),E=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleAddClick=function(){e.setState({isAddClicked:!e.state.isAddClicked})},e.convertMins=function(t){var n=Math.floor(t/6e4),a=Math.floor(t%6e4),l=Math.floor(a/1e3);return l=e.leftPad(l),"".concat(n,":").concat(l)},e.state={isAddClicked:!1,addedSongs:[]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"leftPad",value:function(e){for(var t=e+"";t.length<2;)t="0"+t;return t}},{key:"render",value:function(){var e=this;return l.a.createElement("table",{className:"songs-table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,this.props.song&&l.a.createElement("img",{src:this.props.song.img})),l.a.createElement("td",null,this.props.song&&this.props.song.name),l.a.createElement("td",null,this.props.song&&this.props.song.artist),l.a.createElement("td",null,this.props.song&&this.convertMins(this.props.song.duration_ms)),l.a.createElement("td",null,l.a.createElement("button",{className:"add-btn",onClick:function(t){e.props.handleAddSong(e.props.song.uri),e.handleAddClick()}}," ",this.state.isAddClicked?"remove":"add song"," ")))))}}]),t}(l.a.Component),k=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).customizationButton=function(t){"workout"===t.target.value?e.setState({valence:.66,energy:.6,tempo:.51,danceability:.66}):"study"===t.target.value?e.setState({valence:.61,energy:.49,tempo:.49,danceability:.4}):"karaoke"===t.target.value?e.setState({valence:.5,energy:.66,tempo:.5,danceability:.69}):"road-trip"===t.target.value&&e.setState({valence:.51,energy:.68,tempo:.51,danceability:.52})},e.handleSliderChange=function(t){"valence"===t.target.id?e.setState({valence:t.target.value}):"energy"===t.target.id?e.setState({energy:t.target.value}):"tempo"===t.target.id?e.setState({tempo:t.target.value}):"danceability"===t.target.id&&e.setState({danceability:t.target.value})},e.handleCreatePlaylist=function(){e.setState({isCreateClicked:!e.state.isCreateClicked,valence:e.state.valence,energy:e.state.energy,tempo:e.state.tempo,danceability:e.state.danceability},function(){var t=e.state.valence>=.5?e.props.allSongs.filter(function(t){return t.valence>e.state.valence}):e.props.allSongs.filter(function(t){return t.valence<e.state.valence}),n=e.state.energy>=.5?t.filter(function(t){return t.energy>e.state.energy}):t.filter(function(t){return t.energy<e.state.energy}),a=e.state.tempo>=.5?n.filter(function(t){return t.tempo>e.state.tempo}):n.filter(function(t){return t.tempo<e.state.tempo}),l=e.state.danceability>=.5?a.filter(function(t){return t.danceability>e.state.danceability}):a.filter(function(t){return t.danceability<e.state.danceability});e.setState({filteredSongs:l})})},e.state={valence:null,energy:null,tempo:null,danceability:null,isCreateClicked:!1,filteredSongs:[]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"customize-playlist"},l.a.createElement("button",{value:"workout",onClick:function(t){return e.customizationButton(t)}},"Workout Playlist"),l.a.createElement("button",{value:"study",onClick:function(t){return e.customizationButton(t)}},"Study Playlist"),l.a.createElement("button",{value:"karaoke",onClick:function(t){return e.customizationButton(t)}},"Karaoke Playlist"),l.a.createElement("button",{value:"road-trip",onClick:function(t){return e.customizationButton(t)}},"Road Trip Playlist"),l.a.createElement("div",{className:"customize-playlist"},l.a.createElement("p",{style:{"text-align":"center"}},"Customize how you search for your songs "),l.a.createElement("div",{className:"slidecontainer"},l.a.createElement("div",null,l.a.createElement("input",{onChange:function(t){e.handleSliderChange(t)},type:"range",id:"valence",className:"slider",value:this.state.valence,min:"0",max:"1",step:".01"}),l.a.createElement("label",{for:"valence"},"Valence ")),l.a.createElement("div",null,l.a.createElement("input",{onChange:function(t){e.handleSliderChange(t)},type:"range",id:"energy",className:"slider",value:this.state.energy,min:"0",max:"1",step:".01"}),l.a.createElement("label",{for:"energy"},"Energy ")),l.a.createElement("div",null,l.a.createElement("input",{onChange:function(t){e.handleSliderChange(t)},type:"range",id:"tempo",className:"slider",value:this.state.tempo,min:"0",max:"1",step:".01"}),l.a.createElement("label",{for:"tempo"},"Tempo ")),l.a.createElement("div",null,l.a.createElement("input",{onChange:function(t){e.handleSliderChange(t)},type:"range",id:"danceability",className:"slider",value:this.state.danceability,min:"0",max:"1",step:".01"}),l.a.createElement("label",{for:"danceability"},"Danceability ")))),l.a.createElement("button",{id:"show-button",onClick:this.handleCreatePlaylist},"Show me Songs"),l.a.createElement("div",{className:"customization-container"},this.state.isCreateClicked?l.a.createElement("table",{cellpadding:"0",cellspacing:"0",border:"0",className:"songs-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Album"),l.a.createElement("th",null,"Song"),l.a.createElement("th",null,"Artist"),l.a.createElement("th",null,"Song Length"),l.a.createElement("th",null,"Add Song")))):null,this.state.isCreateClicked?this.state.filteredSongs&&this.state.filteredSongs.map(function(t){return l.a.createElement(E,{handleAddClick:e.props.handleAddClick,song:t,handleAddSong:e.props.handleAddSong})}):null))}}]),t}(l.a.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,this.props.isClicked?l.a.createElement("h1",null," ",this.props.current_playlist.name," "):l.a.createElement("h1",null,"Customize a New Playlist"),l.a.createElement("div",null,this.props.isClicked?l.a.createElement("table",{cellpadding:"0",cellspacing:"0",border:"0"},l.a.createElement("tr",null,l.a.createElement("th",null,"Album"),l.a.createElement("th",null,"Song"),l.a.createElement("th",null,"Artist"),l.a.createElement("th",null,"Song Length"))):null,this.props.isClicked?this.props.playlistSongs.songs&&this.props.playlistSongs.songs.map(function(t){return l.a.createElement(f,{isClicked:e.props.isClicked,song:t})}):l.a.createElement(k,{allSongs:this.props.allSongs,handleAddSong:this.props.handleAddSong})))}}]),t}(l.a.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{onClick:function(){return e.props.onPlaylistClick(e.props.playlist.id)}},l.a.createElement("h5",{className:"playlist-name"},this.props.playlist.name)))}}]),t}(l.a.Component);var j=function(e){return null!=e.allPlaylists?l.a.createElement("div",null,l.a.createElement("h1",{className:"h1-current"},"Playlists"),l.a.createElement("div",{className:"playlist-content"},e.allPlaylists.map(function(t){if(!t.name.includes("Library"))return l.a.createElement(C,{isClicked:e.isClicked,onPlaylistClick:function(n){return e.onPlaylistClick(t)},key:t.id,playlist:t,playlistSongs:e.playlistSongs})}))):l.a.createElement("div",null,l.a.createElement("h1",null,"No Saved Playlists! :("))},O="https://algorhythm-nation.herokuapp.com/playlists",A=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onPlaylistClick=function(t){var n=localStorage.getItem("token");fetch("".concat(O,"/").concat(t.id,"?token=").concat(n)).then(function(e){return e.json()}).then(function(n){return e.setState({playlistSongs:n,current_playlist:t})}),e.setState({isClicked:!e.state.isClicked})},e.handleLogout=function(){localStorage.clear(),window.open("http://localhost:3000","_parent")},e.handleAddSong=function(t){if(e.state.addSongs.includes(t)){var n=e.state.addSongs.filter(function(e){return t!==e});e.setState({addSongs:n})}else e.setState({addSongs:[].concat(Object(b.a)(e.state.addSongs),[t])})},e.postPlaylist=function(t){t.preventDefault(),fetch(O,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({token:localStorage.getItem("token"),playlistname:t.target.playlistname.value,uris:e.state.addSongs})}).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState(function(e){e.allPlaylists.unshift(t)})})},e.state={allPlaylists:null,songs:[],playlistSongs:[],isClicked:!1,current_user:{},current_playlist:{},addSongs:[]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search.substr(7);localStorage.setItem("token",t),fetch("".concat("https://algorhythm-nation.herokuapp.com","/users?token=").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({current_user:t})}),fetch("".concat(O,"?token=").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({allPlaylists:t})}),fetch("".concat("https://algorhythm-nation.herokuapp.com/songs","?token=").concat(t)).then(function(e){return e.json()}).then(function(t){return e.setState({songs:t})})}},{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(v,{handleLogout:this.handleLogout,username:this.state.current_user.username}),l.a.createElement("div",{className:"grid-container"},l.a.createElement("div",{className:"right-container"},l.a.createElement(S,{allSongs:this.state.songs,isClicked:this.state.isClicked,playlistSongs:this.state.playlistSongs,current_playlist:this.state.current_playlist,handleAddSong:this.handleAddSong})),l.a.createElement("div",{className:"left-container"},l.a.createElement(j,{isClicked:this.state.isClicked,playlistSongs:this.state.playlistSongs,onPlaylistClick:this.onPlaylistClick,allPlaylists:this.state.allPlaylists,current_playlist:this.state.current_playlist})),l.a.createElement("div",{className:"bottom-container"},this.state.isClicked?null:l.a.createElement("div",null,l.a.createElement("form",{name:"new-playlist-form",onSubmit:this.postPlaylist},l.a.createElement("input",{name:"playlistname",type:"text",placeholder:"Awesome Playlist Name"}),l.a.createElement("button",{type:"submit",className:"save-button"},"Save my Playlist"))))))}}]),t}(l.a.Component),P=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"this be a ErrorMsg"))}}]),t}(l.a.Component),N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={serverData:{}},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(h.a,{exact:!0,path:"/",component:y}),l.a.createElement(h.a,{exact:!0,path:"/user",component:A}),l.a.createElement(h.a,{exact:!0,path:"/error",component:P})))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){}},[[25,1,2]]]);
//# sourceMappingURL=main.df5ff305.chunk.js.map